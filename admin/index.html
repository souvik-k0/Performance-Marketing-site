<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard | BrandBiography</title>
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>‚öô</text></svg>">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Outfit:wght@400;500;600;700;800&display=swap"
        rel="stylesheet">
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.7/dist/chart.umd.min.js"></script>
    <link rel="stylesheet" href="/admin/admin.css">
</head>

<body>
    <!-- Login Screen -->
    <div class="login-screen" id="login-screen">
        <div class="login-card">
            <div class="logo"><i class="ph-fill ph-book-open-text"></i><span>BrandBiography</span></div>
            <h2>Admin Dashboard</h2>
            <p>Enter the admin password to continue</p>
            <form id="login-form" onsubmit="return false">
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="login-password" placeholder="Enter password" autofocus>
                </div>
                <button type="submit" class="login-btn" id="login-btn"><i class="ph ph-sign-in"></i> Sign In</button>
                <div class="login-error" id="login-error">Incorrect password. Please try again.</div>
            </form>
        </div>
    </div>

    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <a href="/" class="logo"><i class="ph-fill ph-book-open-text"></i><span>BrandBiography</span></a>
        </div>
        <nav class="sidebar-nav">
            <a href="#" class="nav-item active" data-view="dashboard"><i class="ph ph-chart-pie-slice"></i>
                Dashboard</a>
            <a href="#" class="nav-item" data-view="resources"><i class="ph ph-article"></i> Resources</a>
            <a href="#" class="nav-item" data-view="demos"><i class="ph ph-envelope-simple"></i> Demo Requests</a>
            <a href="#" class="nav-item" data-view="testimonials"><i class="ph ph-star"></i> Testimonials</a>
            <div style="border-top:1px solid var(--border); margin:1rem .5rem"></div>
            <a href="/" class="nav-item" target="_blank"><i class="ph ph-globe"></i> View Site</a>
        </nav>
        <div class="sidebar-footer"><span class="version">v1.1.0</span></div>
    </aside>

    <main class="main-content">
        <!-- ‚îÄ‚îÄ‚îÄ DASHBOARD VIEW ‚îÄ‚îÄ‚îÄ -->
        <section class="view active" id="view-dashboard">
            <header class="topbar">
                <button class="sidebar-toggle" id="sidebar-toggle"><i class="ph ph-list"></i></button>
                <h1 class="page-title">Dashboard</h1>
            </header>

            <!-- Mini Summary Numbers -->
            <div class="dash-summary">
                <div class="summary-pill"><i class="ph-fill ph-article" style="color:#3b82f6"></i><span
                        id="ds-resources">0</span> Resources</div>
                <div class="summary-pill"><i class="ph-fill ph-envelope-simple" style="color:var(--primary)"></i><span
                        id="ds-demos">0</span> Demo Requests</div>
                <div class="summary-pill"><i class="ph-fill ph-star" style="color:#f59e0b"></i><span
                        id="ds-testimonials">0</span> Testimonials</div>
            </div>

            <!-- Charts Row -->
            <div class="dash-charts">
                <div class="chart-card">
                    <h3 class="chart-title">Demo Request Status</h3>
                    <div class="chart-wrap"><canvas id="chart-demos"></canvas></div>
                </div>
                <div class="chart-card">
                    <h3 class="chart-title">Content Breakdown</h3>
                    <div class="chart-wrap"><canvas id="chart-resources"></canvas></div>
                </div>
            </div>

            <!-- Activity Timeline -->
            <div class="timeline-card">
                <h3 class="chart-title">Recent Activity</h3>
                <div class="timeline" id="activity-timeline">
                    <div class="timeline-empty"><i class="ph-duotone ph-clock-countdown"
                            style="font-size:2.5rem;color:#cbd5e1"></i>
                        <p>Activities will appear here as data flows in.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- ‚îÄ‚îÄ‚îÄ RESOURCES VIEW ‚îÄ‚îÄ‚îÄ -->
        <section class="view" id="view-resources">
            <header class="topbar">
                <button class="sidebar-toggle"><i class="ph ph-list"></i></button>
                <h1 class="page-title">Resources Manager</h1>
                <div class="topbar-actions"><button class="btn btn-primary" id="btn-add-resource"><i
                            class="ph ph-plus"></i> Add New</button></div>
            </header>

            <div class="table-toolbar">
                <div class="filter-group">
                    <button class="filter-chip active" data-filter="all" data-module="resources">All</button>
                    <button class="filter-chip" data-filter="case-study" data-module="resources">Case Studies</button>
                    <button class="filter-chip" data-filter="blog" data-module="resources">Blogs</button>
                </div>
                <div class="search-box"><i class="ph ph-magnifying-glass"></i><input type="text" id="search-resources"
                        placeholder="Search resources..."></div>
            </div>
            <div class="table-wrapper">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th style="width:50px"></th>
                            <th>Title</th>
                            <th style="width:120px">Type</th>
                            <th style="width:140px">Date</th>
                            <th style="width:100px">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="resources-tbody"></tbody>
                </table>
                <div class="empty-state" id="res-empty" style="display:none"><i class="ph-duotone ph-files"
                        style="font-size:3rem;color:#cbd5e1"></i>
                    <p>No resources found.</p>
                </div>
            </div>
        </section>

        <!-- ‚îÄ‚îÄ‚îÄ DEMOS VIEW ‚îÄ‚îÄ‚îÄ -->
        <section class="view" id="view-demos">
            <header class="topbar">
                <button class="sidebar-toggle"><i class="ph ph-list"></i></button>
                <h1 class="page-title">Demo Requests</h1>
            </header>

            <div class="table-toolbar">
                <div class="filter-group">
                    <button class="filter-chip active" data-filter="all" data-module="demos">All</button>
                    <button class="filter-chip" data-filter="new" data-module="demos">New</button>
                    <button class="filter-chip" data-filter="contacted" data-module="demos">Contacted</button>
                    <button class="filter-chip" data-filter="closed" data-module="demos">Closed</button>
                </div>
                <div class="search-box"><i class="ph ph-magnifying-glass"></i><input type="text" id="search-demos"
                        placeholder="Search by name, email..."></div>
            </div>
            <div class="table-wrapper">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Email</th>
                            <th>Company</th>
                            <th>Ad Spend</th>
                            <th style="width:120px">Status</th>
                            <th style="width:130px">Date</th>
                            <th style="width:100px">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="demos-tbody"></tbody>
                </table>
                <div class="empty-state" id="demo-empty" style="display:none"><i class="ph-duotone ph-envelope"
                        style="font-size:3rem;color:#cbd5e1"></i>
                    <p>No demo requests yet.</p>
                </div>
            </div>
        </section>

        <!-- ‚îÄ‚îÄ‚îÄ TESTIMONIALS VIEW ‚îÄ‚îÄ‚îÄ -->
        <section class="view" id="view-testimonials">
            <header class="topbar">
                <button class="sidebar-toggle"><i class="ph ph-list"></i></button>
                <h1 class="page-title">Testimonials</h1>
                <div class="topbar-actions"><button class="btn btn-primary" id="btn-add-testimonial"><i
                            class="ph ph-plus"></i> Add New</button></div>
            </header>
            <div class="table-toolbar">
                <div class="filter-group">
                    <button class="filter-chip active" data-filter="all" data-module="testimonials">All</button>
                    <button class="filter-chip" data-filter="visible" data-module="testimonials">Visible</button>
                    <button class="filter-chip" data-filter="hidden" data-module="testimonials">Hidden</button>
                </div>
                <div class="search-box"><i class="ph ph-magnifying-glass"></i><input type="text"
                        id="search-testimonials" placeholder="Search..."></div>
            </div>
            <div class="table-wrapper">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th style="width:40px"></th>
                            <th>Quote</th>
                            <th style="width:140px">Author</th>
                            <th style="width:100px">Rating</th>
                            <th style="width:90px">Visible</th>
                            <th style="width:100px">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="testimonials-tbody"></tbody>
                </table>
                <div class="empty-state" id="test-empty" style="display:none"><i class="ph-duotone ph-star"
                        style="font-size:3rem;color:#cbd5e1"></i>
                    <p>No testimonials yet.</p>
                </div>
            </div>
        </section>
    </main>

    <!-- ‚îÄ‚îÄ‚îÄ RESOURCE MODAL ‚îÄ‚îÄ‚îÄ -->
    <div class="modal-overlay" id="resource-modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h2 id="res-modal-title">Add Resource</h2><button class="modal-close"
                    onclick="closeModal('resource-modal-overlay')"><i class="ph ph-x"></i></button>
            </div>
            <form id="resource-form" enctype="multipart/form-data">
                <input type="hidden" id="res-id">
                <div class="form-grid">
                    <div class="form-group"><label>Type *</label><select id="res-type" required>
                            <option value="">Select</option>
                            <option value="case-study">Case Study</option>
                            <option value="blog">Blog Post</option>
                        </select></div>
                    <div class="form-group"><label>External Link <small
                                style="color:var(--muted)">(optional)</small></label><input type="text" id="res-link"
                            placeholder="https://... (leave blank for auto page)"></div>
                </div>
                <div class="form-group"><label>Title *</label><input type="text" id="res-title"
                        placeholder="Enter title" required></div>
                <div class="form-group"><label>Description * <small style="color:var(--muted)">(shown on
                            listing)</small></label><textarea id="res-desc" rows="2"
                        placeholder="Brief description / summary..." required></textarea></div>
                <div class="form-group">
                    <label>Article Content <small style="color:var(--muted)">(Markdown supported)</small></label>
                    <textarea id="res-content" rows="10"
                        placeholder="Write the full article here... Use **bold**, ## headings, - bullets, | tables |"
                        style="font-family:'Inter',monospace; font-size:.88rem; line-height:1.6"></textarea>
                </div>
                <div class="form-group">
                    <label>Cover Image</label>
                    <div class="image-upload-area" id="res-upload-area">
                        <input type="file" id="res-image" accept="image/*" hidden>
                        <div class="upload-placeholder" id="res-upload-ph"><i
                                class="ph ph-cloud-arrow-up"></i><span>Click or drag to upload</span><small>JPG, PNG,
                                WebP ‚Äî Max 5MB</small></div>
                        <img id="res-preview" class="image-preview" style="display:none" alt="Preview">
                    </div>
                </div>
                <div class="modal-actions"><button type="button" class="btn btn-secondary"
                        onclick="closeModal('resource-modal-overlay')">Cancel</button><button type="submit"
                        class="btn btn-primary"><i class="ph ph-check"></i> Save</button></div>
            </form>
        </div>
    </div>

    <!-- ‚îÄ‚îÄ‚îÄ TESTIMONIAL MODAL ‚îÄ‚îÄ‚îÄ -->
    <div class="modal-overlay" id="testimonial-modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h2 id="test-modal-title">Add Testimonial</h2><button class="modal-close"
                    onclick="closeModal('testimonial-modal-overlay')"><i class="ph ph-x"></i></button>
            </div>
            <form id="testimonial-form">
                <input type="hidden" id="test-id">
                <div class="form-group"><label>Quote *</label><textarea id="test-quote" rows="3"
                        placeholder="What did the client say?" required></textarea></div>
                <div class="form-grid">
                    <div class="form-group"><label>Name *</label><input type="text" id="test-name"
                            placeholder="John Doe" required></div>
                    <div class="form-group"><label>Role / Company</label><input type="text" id="test-role"
                            placeholder="CEO, Acme Corp"></div>
                </div>
                <div class="form-grid">
                    <div class="form-group"><label>Initials</label><input type="text" id="test-initials"
                            placeholder="JD" maxlength="3"></div>
                    <div class="form-group"><label>Rating (1-5)</label><select id="test-rating">
                            <option value="5">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5)</option>
                            <option value="4">‚≠ê‚≠ê‚≠ê‚≠ê (4)</option>
                            <option value="3">‚≠ê‚≠ê‚≠ê (3)</option>
                        </select></div>
                </div>
                <div class="form-group"><label><input type="checkbox" id="test-visible" checked
                            style="margin-right:.5rem">Show on website</label></div>
                <div class="modal-actions"><button type="button" class="btn btn-secondary"
                        onclick="closeModal('testimonial-modal-overlay')">Cancel</button><button type="submit"
                        class="btn btn-primary"><i class="ph ph-check"></i> Save</button></div>
            </form>
        </div>
    </div>

    <!-- ‚îÄ‚îÄ‚îÄ DEMO DETAIL MODAL ‚îÄ‚îÄ‚îÄ -->
    <div class="modal-overlay" id="demo-modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h2>Demo Request Details</h2><button class="modal-close" onclick="closeModal('demo-modal-overlay')"><i
                        class="ph ph-x"></i></button>
            </div>
            <form id="demo-form">
                <input type="hidden" id="demo-detail-id">
                <div class="form-grid">
                    <div class="form-group"><label>Name</label><input type="text" id="demo-detail-name" readonly></div>
                    <div class="form-group"><label>Email</label><input type="text" id="demo-detail-email" readonly>
                    </div>
                </div>
                <div class="form-grid">
                    <div class="form-group"><label>Company</label><input type="text" id="demo-detail-company" readonly>
                    </div>
                    <div class="form-group"><label>Ad Spend</label><input type="text" id="demo-detail-spend" readonly>
                    </div>
                </div>
                <div class="form-group"><label>Status *</label><select id="demo-detail-status">
                        <option value="new">üî¥ New</option>
                        <option value="contacted">üü° Contacted</option>
                        <option value="closed">üü¢ Closed</option>
                    </select></div>
                <div class="form-group"><label>Notes</label><textarea id="demo-detail-notes" rows="3"
                        placeholder="Internal notes..."></textarea></div>
                <div class="modal-actions"><button type="button" class="btn btn-secondary"
                        onclick="closeModal('demo-modal-overlay')">Cancel</button><button type="submit"
                        class="btn btn-primary"><i class="ph ph-check"></i> Update</button></div>
            </form>
        </div>
    </div>

    <!-- ‚îÄ‚îÄ‚îÄ DELETE MODAL ‚îÄ‚îÄ‚îÄ -->
    <div class="modal-overlay" id="delete-overlay">
        <div class="modal modal-sm">
            <div class="modal-header">
                <h2>Confirm Delete</h2><button class="modal-close" onclick="closeModal('delete-overlay')"><i
                        class="ph ph-x"></i></button>
            </div>
            <p class="delete-msg">Are you sure you want to delete <strong id="delete-name"></strong>?</p>
            <div class="modal-actions" style="padding:0 1.5rem 1.5rem"><button class="btn btn-secondary"
                    onclick="closeModal('delete-overlay')">Cancel</button><button class="btn btn-danger"
                    id="delete-confirm"><i class="ph ph-trash"></i> Delete</button></div>
        </div>
    </div>

    <div class="toast" id="toast"></div>
    <script src="/admin/admin.js"></script>
</body>

</html>